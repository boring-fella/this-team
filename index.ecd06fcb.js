!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var o=i("1VFfL"),a=i("bpxeT"),s=i("8MBJY"),l=i("a2hTj"),f=i("2TvXO"),c=i("dIxxU"),u=i("lVuNI"),d=function(){"use strict";function t(){e(s)(this,t),this.searchQuery="",this.lastQuery=""}return e(l)(t,[{key:"fetchFilms",value:function(t){var n=this;return e(a)(e(f).mark((function r(){var i,o;return e(f).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(u.BASE_URL,"/search/movie?api_key=").concat(u.KEY,"&query=").concat(n.searchQuery,"&page=").concat(t),e.next=3,c.default.get(i);case 3:return o=e.sent.data,e.abrupt("return",o);case 5:case"end":return e.stop()}}),r)})))()}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),t}(),g=i("7PxVc"),p=i("5mvrA"),h=i("huWAn");h=i("huWAn"),p=i("5mvrA");function y(){setTimeout((function(){p.refs.notificationEl.textContent=""}),3e3)}var m=i("a8hHM"),v=i("aEj0R"),E=i("1caSa");p=i("5mvrA");function x(e){console.log(e.message),p.refs.notificationEl.style.color="#ff001b",p.refs.notificationEl.textContent="Sorry, something going wrong... Please try again."}var b=i("kvC6y"),L=i("3dnU7"),C=new d,M=new(e(o))("pagination",{totalItems:0,itemsPerPage:20,visiblePages:5,page:1,centerAlign:!0}),_=M.getCurrentPage();function w(e){var t=e.page;C.fetchFilms(t).then((function(e){(0,m.scrollOnTop)(0),(0,v.clearMurkup)(),T(e.results)})).catch(x)}function T(e){p.refs.filmGalleryContainer.insertAdjacentHTML("beforeend",g.default.createFilmCardMarkup(e)),(0,L.saveCurrentFilmsToLocal)(e),(0,E.hideElement)(),(0,E.hideSpan)()}p.refs.notificationEl.style.color="#ff001b",p.refs.notificationEl.textContent="",p.refs.formEl.addEventListener("submit",(function(e){(0,b.toggleLoader)(),e.preventDefault(),function(){if(!p.refs.inputEl.value.trim())return(0,b.toggleLoader)(),p.refs.notificationEl.style.color="#ff001b",p.refs.notificationEl.textContent="Please, type something.",void y();if(C.query=p.refs.inputEl.value.trim(),C.lastQuery===C.searchQuery)return void(0,b.toggleLoader)();h.pagination.off("afterMove",h.popular),M.off("afterMove",w),C.fetchFilms(_).then((function(e){if(!e.results.length)return(0,b.toggleLoader)(),(0,v.clearMurkup)(),p.refs.notificationEl.style.color="#ff001b",p.refs.notificationEl.textContent="Sorry, there are no films matching your search query. Please, try again.",p.refs.paginationInHome.classList.add("tui-pagination-isHidden"),p.refs.notificationPictureEl.classList.add("section-main__bcg"),y(),void(C.lastQuery="");C.lastQuery=C.query,p.refs.notificationEl.textContent="",p.refs.paginationInHome.classList.remove("tui-pagination-isHidden"),p.refs.notificationPictureEl.classList.remove("section-main__bcg"),(0,m.scrollOnTop)(0),(0,v.clearMurkup)(),T(e.results),(0,b.toggleLoader)(),M.reset(e.total_results),(0,E.hideElement)(),M.on("afterMove",w);var t=e.total_results;p.refs.notificationEl.style.color="#00ff22",p.refs.notificationEl.textContent="We found ".concat(t," films. Enjoy!"),y()})).catch(x)}()}))}();
//# sourceMappingURL=index.ecd06fcb.js.map
