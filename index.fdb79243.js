!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o);var a=o("1VFfL"),i=o("bpxeT"),u=o("8MBJY"),c=o("a2hTj"),l=o("2TvXO"),f=o("dIxxU"),s=function(){"use strict";function t(){e(u)(this,t),this.searchQuery=""}return e(c)(t,[{key:"fetchFilms",value:function(t){var n=this;return e(i)(e(l).mark((function r(){var o,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat("3c2d3d1a4a9318a7ef02a0fdedccb03f","&query=").concat(n.searchQuery,"&page=").concat(t),e.next=3,f.default.get(o);case 3:return a=e.sent.data,console.log(o),e.abrupt("return",a);case 6:case"end":return e.stop()}}),r)})))()}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),t}(),d=o("7PxVc"),h=o("huWAn"),g=(h=o("huWAn"),o("a8hHM")),m=o("aEj0R"),p=o("1caSa");function y(e){console.log(e.message);var t=document.querySelector(".text-error");t.textContent="Sorry, something going wrong... Please try again.";setTimeout((function(){t.textContent=""}),2e3)}var v=o("kvC6y"),x={formEl:document.querySelector("#search-form"),inputEl:document.querySelector("#search"),notificationEl:document.querySelector(".text-error"),filmGalleryContainer:document.querySelector(".film-container")},E=new s,C=new(e(a))("pagination",{totalItems:0,itemsPerPage:20,visiblePages:3,page:1}),b=C.getCurrentPage();function q(e){var t=e.page;E.fetchFilms(t).then((function(e){(0,g.scrollOnTop)(265),(0,m.clearMurkup)(),w(e.results)})).catch(y)}function w(e){x.filmGalleryContainer.insertAdjacentHTML("beforeend",d.default.createFilmCardMarkup(e)),(0,p.hideElement)()}x.notificationEl.textContent="",x.formEl.addEventListener("submit",(function(e){e.preventDefault(),function(){if(!x.inputEl.value.trim())return;E.query=x.inputEl.value.trim(),h.pagination.off("afterMove",h.popular),C.off("afterMove",q),E.fetchFilms(b).then((function(e){if(e.results.length){x.notificationEl.textContent="",(0,m.clearMurkup)(),w(e.results),C.reset(e.total_results),(0,p.hideElement)(),C.on("afterMove",q);var t=e.total_results;(0,v.toggleLoader)(),x.notificationEl.textContent="We found ".concat(t," films. Enjoy!");setTimeout((function(){x.notificationEl.textContent=""}),2e3)}else{(0,v.toggleLoader)(),x.notificationEl.textContent="Sorry, there are no films matching your search query. Please try again.";setTimeout((function(){x.notificationEl.textContent=""}),2e3)}})).catch(y)}(),(0,v.toggleLoader)()}))}();
//# sourceMappingURL=index.fdb79243.js.map
