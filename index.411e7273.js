var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=r);var o=r("2shzp");var i=r("hgmNe"),a=r("392Er");function l(){console.log(error.message),refs.notificationEl.textContent="Sorry, something going wrong... Please try again.";setTimeout((()=>{refs.notificationEl.textContent=""}),2e3)}const s={formEl:document.querySelector("#search-form"),inputEl:document.querySelector("#search"),notificationEl:document.querySelector(".text-error"),filmGalleryContainer:document.querySelector(".film-container")};s.notificationEl.textContent="";const c=new class{async fetchFilms(){const e=`https://api.themoviedb.org/3/search/movie?api_key=3c2d3d1a4a9318a7ef02a0fdedccb03f&query=${this.searchQuery}&page=${this.page}`,{data:t}=await o.default.get(e);return console.log(e),t}icrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};s.formEl.addEventListener("submit",(function(e){e.preventDefault(),function(){if(!s.inputEl.value.trim())return;c.query=s.inputEl.value.trim(),c.resetPage(),c.fetchFilms(c.query).then((e=>{if(!e.results.length){s.notificationEl.textContent="Sorry, there are no films matching your search query. Please try again.";setTimeout((()=>{s.notificationEl.textContent=""}),2e3);return}s.notificationEl.textContent="",s.filmGalleryContainer.innerHTML="",function(e){console.log("Данные с бэка по запросу (data.results):"),console.log(e.results),s.filmGalleryContainer.insertAdjacentHTML("beforeend",i.default.createFilmCardMarkup(e.results))}(e),(0,a.hideElement)();const t=e.total_results;s.notificationEl.textContent=`We found ${t} films. Enjoy!`;setTimeout((()=>{s.notificationEl.textContent=""}),2e3)})).catch(l)}()}));
//# sourceMappingURL=index.411e7273.js.map
